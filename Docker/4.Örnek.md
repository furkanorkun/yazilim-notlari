# Dockerize Etmek (Uygulama PratiÄŸi)

Senaryomuz: Ekrana basit bir mesaj basan ve 3000 portunda Ã§alÄ±ÅŸan mini bir web sunucumuz var. AmacÄ±mÄ±z bunu Docker iÃ§inde Ã§alÄ±ÅŸtÄ±rmak.

## AdÄ±m 1: UygulamayÄ± HazÄ±rlamak (Kod)

BilgisayarÄ±nÄ±zda bir klasÃ¶r aÃ§tÄ±ÄŸÄ±nÄ±zÄ± ve iÃ§ine `app.js` adÄ±nda bir dosya oluÅŸturduÄŸunuzu varsayalÄ±m.

`app.js` iÃ§eriÄŸi:

```javascript
console.log("Docker iÃ§inden merhaba!");
// Basit bir HTTP sunucusu
const http = require('http');
const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Merhaba! Bu mesaj bir Konteynerden geliyor.\n');
});

server.listen(3000, () => {
  console.log('Sunucu 3000 portunda Ã§alÄ±ÅŸÄ±yor...');
});
```

## AdÄ±m 2: ReÃ§eteyi Yazmak (Dockerfile)

AynÄ± klasÃ¶rde, uzantÄ±sÄ± olmayan `Dockerfile` adÄ±nda bir dosya oluÅŸturuyoruz. Docker'a talimatlarÄ± burada vereceÄŸiz.

`Dockerfile` iÃ§eriÄŸi ve AnlamlarÄ±:

```dockerfile
# 1. TABAN (Base Image): Hangi iÅŸletim sistemi/ortam Ã¼zerine kuracaÄŸÄ±z?
# Node.js yÃ¼klÃ¼, hafif bir Linux (Alpine) sÃ¼rÃ¼mÃ¼ seÃ§iyoruz.
FROM node:20-alpine

# 2. Ã‡ALIÅMA ALANI: Konteynerin iÃ§inde hangi klasÃ¶rde Ã§alÄ±ÅŸacaÄŸÄ±z?
# Konteyner iÃ§inde /app diye bir klasÃ¶r oluÅŸturur ve oraya gider.
WORKDIR /app

# 3. KOPYALAMA: DosyalarÄ±mÄ±zÄ± iÃ§eri atalÄ±m.
# Ä°lk nokta: Bizim bilgisayarÄ±mÄ±zdaki mevcut klasÃ¶r.
# Ä°kinci nokta: Konteynerdeki Ã§alÄ±ÅŸma alanÄ± (/app).
COPY . .

# 4. KOMUT: Konteyner ayaÄŸa kalktÄ±ÄŸÄ±nda ne yapsÄ±n?
CMD ["node", "app.js"]
```

## AdÄ±m 3: Build Ä°ÅŸlemi (Image OluÅŸturma)

ReÃ§eteyi (Dockerfile) yazdÄ±k. Åimdi bunu piÅŸirip dondurulmuÅŸ bir Image haline getirmeliyiz.

Terminali o klasÃ¶rde aÃ§Ä±p ÅŸu komutu yazÄ±yoruz:

```bash
docker build -t ilk-uygulamam .
```

- `-t ilk-uygulamam`: Image'a bir etiket (isim) veriyoruz. (Tag)
- `.` (Nokta): "Dockerfile bu klasÃ¶rde, buraya bak" diyoruz.

**SonuÃ§:** Docker, Node.js'i indirdi, dosyalarÄ±nÄ±zÄ± kopyaladÄ± ve `ilk-uygulamam` adÄ±nda bir Image oluÅŸturdu.

## AdÄ±m 4: Run Ä°ÅŸlemi (Konteyneri BaÅŸlatma)

ArtÄ±k elimizde bir Image var. Åimdi onu canlandÄ±ralÄ±m.

```bash
docker run -p 3000:3000 ilk-uygulamam
```

Buradaki `-p 3000:3000` (Port Mapping) kÄ±smÄ± Ã§ok kritiktir:

- Docker konteynerleri dÄ±ÅŸ dÃ¼nyadan izole Ã§alÄ±ÅŸÄ±r (kapalÄ± kutu).
- Konteynerin iÃ§indeki 3000 portunu, sizin bilgisayarÄ±nÄ±zÄ±n (localhost) 3000 portuna baÄŸlamazsanÄ±z, tarayÄ±cÄ±dan uygulamaya ulaÅŸamazsÄ±nÄ±z.

**MantÄ±k:** `localhost:3000` -> (TÃ¼nel) -> `Container:3000`

### Test
TarayÄ±cÄ±nÄ±zÄ± aÃ§Ä±p `http://localhost:3000` adresine gittiÄŸinizde **"Merhaba! Bu mesaj bir Konteynerden geliyor."** yazÄ±sÄ±nÄ± gÃ¶receksiniz.

**Tebrikler! ğŸ‰**

Az Ã¶nce bilgisayarÄ±nÄ±za Node.js kurmadan (veya kurulu olanÄ± kullanmadan), izole bir ortamda Node.js uygulamasÄ± Ã§alÄ±ÅŸtÄ±rdÄ±nÄ±z.

**Åu an neyiniz var?** Bu Image'Ä± alÄ±p (Docker Hub'a yÃ¼kleyip), dÃ¼nyanÄ±n herhangi bir yerindeki, iÃ§inde Docker olan herhangi bir sunucuya atarsanÄ±z, tek bir satÄ±r kod deÄŸiÅŸtirmeden tÄ±pkÄ± sizin makinenizde Ã§alÄ±ÅŸtÄ±ÄŸÄ± gibi Ã§alÄ±ÅŸacaktÄ±r.