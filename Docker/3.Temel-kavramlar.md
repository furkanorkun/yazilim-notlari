# Docker Temel Kavramlar

Docker'ı anlamak için bilmeniz gereken temel kavramlar aşağıda açıklanmıştır. Her kavram, günlük hayattan örneklerle açıklanmıştır.

## 1. Dockerfile (Reçete / Tarif)

Her şey burada başlar. Bu, uzantısı olmayan basit bir metin dosyasıdır (Dockerfile).

### Nedir?
Aşçıya (Docker'a) yemeği nasıl yapacağını adım adım anlatan reçetedir.

### Ne İçerir?
- **Taban olarak Ubuntu kullan.** (Hangi tencere?)
- **İçine Node.js yükle.** (Hangi malzeme?)
- **Benim yazdığım app.js dosyasını içeri kopyala.** (Özel baharatlar)
- **8080 portunu aç.** (Servis tabağı)

### Özelliği
İnsanlar tarafından okunabilir ve yazılabilir.

## 2. Image (Kalıp / Dondurulmuş Yemek)

Reçetenin (Dockerfile) işlenmiş halidir.

### Nedir?
`docker build` komutunu çalıştırdığınızda, Docker reçeteyi okur ve bir **Image** oluşturur. Bunu dondurulmuş, paketlenmiş bir hazır yemek gibi düşünebilirsiniz.

### Özelliği
- **Salt Okunurdur (Read-Only):** Image oluşturulduktan sonra değiştirilemez. Değiştirmek isterseniz reçeteyi güncelleyip yeniden "build" etmeniz gerekir.

### Katmanlı Yapı (Layers)
Docker akıllıdır. Eğer reçetenizde sadece son satırı değiştirirseniz, tüm yemeği baştan yapmaz; sadece değişen katmanı günceller. Bu yüzden çok hızlıdır.

## 3. Container (Canlı Ortam / Servis Edilen Yemek)

Image'ın canlanmış, çalışan halidir.

### Nedir?
`docker run` komutunu verdiğinizde, Docker o donmuş Image'ı alır, çözer ve çalıştırır. Artık sıcak, dumanı tüten, yenebilir bir yemek (çalışan bir uygulama) vardır.

### Özelliği
Geçicidir. İstediğiniz kadar başlatıp durdurabilir, silebilirsiniz. Sildiğinizde Image (kalıp) hala durur, istediğiniz an tekrar yeni bir Container oluşturabilirsiniz.

### İlişki
1 tane Image'dan, birbirinin aynısı 100 tane Container oluşturabilirsiniz. (Bir tariften 100 tabak yemek çıkarmak gibi).

## 4. Docker Registry / Docker Hub (Menü / Market)

Image'ların saklandığı depodur.

### Nedir?
Başkalarının hazırladığı Image'ları bulabileceğiniz yerdir. Örneğin, PostgreSQL kurmak için oturup sıfırdan "Postgres nasıl kurulur?" diye reçete yazmanıza gerek yoktur.

### Docker Hub
Dünyanın en büyük Image kütüphanesidir. `postgres`, `node`, `nginx` gibi resmi Image'ları buradan tek komutla çekebilirsiniz (`docker pull`).

## Özet Akış (Workflow)

Bir yazılımcı olarak günlük döngünüz şöyle olacaktır:

1. **Kodla:** Uygulamanı yaz.
2. **Dockerfile Hazırla:** "Bu uygulamanın çalışması için ne lazım?" sorusunun cevabını yaz.
3. **Build (İnşa Et):** `docker build` komutu ile Dockerfile'dan bir Image oluştur.
4. **Run (Çalıştır):** `docker run` komutu ile Image'dan bir Container ayağa kaldır.

# Bir Docker komutu yazdığınızda arka planda ne olur?

![How does Docker work](images/how-does-docker-work.png)

Docker'ın çalışma mantığını anlamak için aşağıdaki görsel ve açıklamaları inceleyin. Görsel, Docker'ın istemci-sunucu mimarisini gösterir.

## 1. Mavi Alan: Docker Client (Komuta Merkezi)

Burası sizin olduğunuz yerdir. Yani terminaliniz veya komut satırınız.

### Görevi
Siz buraya komutları (`docker build`, `docker pull`, `docker run`) yazarsınız.

### İşleyiş
Dikkat ederseniz oklar buradan aşağıya, "Daemon"a gidiyor. Yani siz işi yapmazsınız, siz sadece "emri verirsiniz". Docker Client, bu emri alır ve alttaki sarı alana (Host) iletir.

## 2. Sarı Alan: Docker Host (Mutfak / İşlem Merkezi)

Burası, Docker'ın yüklü olduğu bilgisayardır (Sizin bilgisayarınız veya uzak bir sunucu).

### Daemon (Ortadaki Turuncu Çubuk)
Görselin en kritik parçasıdır. O, mutfağın baş aşçısıdır. Arka planda sessizce çalışır, Client'tan gelen emirleri dinler ve uygular.

### Images (Sağdaki Kutu)
Daemon'ın oluşturduğu veya indirdiği kalıplar burada durur (Ubuntu, Redis logolarını görüyorsunuz). Burası kilerinizdir.

### Containers (Soldaki Kutu)
Kırmızı kesikli oka dikkat edin: Images kutusundan Containers kutusuna gidiyor. Bu, bir Image'ın çalıştırılarak "Canlı Konteyner" haline gelmesini temsil eder.

Ocağın üzerindeki tencereler buradadır. Uygulamanız burada çalışır.

## 3. Turkuaz Alan: Docker Registry (Market / Toptancı)

Burası internetteki uzak depodur (Genellikle Docker Hub).

### Görevi
Bilgisayarınızda (Host) olmayan bir Image'a ihtiyacınız olduğunda (örneğin Nginx veya Redis), Daemon buraya bağlanır.

### İşleyiş
Yeşil kesikli oklara dikkat: Bu oklar, Registry'den (Marketten) alınıp Host'taki (Mutfağınızdaki) Image alanına indirilen dosyaları gösterir. Buna `docker pull` işlemi denir.

## Görseldeki 3 Ana Hareket (Okların Anlamı)

Şemadaki renkli okları takip edelim:

### Mavi Yol (Build)
- `docker build` komutunu verirsiniz.
- Daemon, sizin yazdığınız Dockerfile'ı alır ve ondan bir Image oluşturup "Images" kutusuna koyar.

### Yeşil Yol (Pull)
- `docker pull` komutunu verirsiniz.
- Daemon önce sizin "Images" kutunuza bakar. Yoksa, aşağıya (Registry'e) gider, o Image'ı indirir ve sizin deponuza (Images) koyar.

### Kırmızı Yol (Run)
- `docker run` komutunu verirsiniz.
- Daemon, "Images" kutusundaki bir kalıbı alır ve ondan bir Container oluşturur (Sol taraftaki kutuda çalışmaya başlar).

### Özet
Bu görsel, Docker'ın **İstemci-Sunucu** (Client-Server) mimarisini gösterir. Siz emredersiniz (Client), Daemon yapar (Host), eksik varsa internetten getirir (Registry).